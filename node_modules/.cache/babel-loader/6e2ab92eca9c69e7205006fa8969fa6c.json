{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"C:/Users/Tyler Giles/Documents/GitHub/Personal_Site/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _createForOfIteratorHelper = require(\"C:/Users/Tyler Giles/Documents/GitHub/Personal_Site/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\nvar _classCallCheck = require(\"C:/Users/Tyler Giles/Documents/GitHub/Personal_Site/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/Users/Tyler Giles/Documents/GitHub/Personal_Site/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ImageDrawer_images;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ImageDrawer = void 0;\nvar Utils_1 = require(\"../../Utils\");\nvar Enums_1 = require(\"../../Enums\");\nvar Utils_2 = require(\"./Utils\");\nvar ImageDrawer = /*#__PURE__*/function () {\n  function ImageDrawer() {\n    _classCallCheck(this, ImageDrawer);\n    _ImageDrawer_images.set(this, void 0);\n    __classPrivateFieldSet(this, _ImageDrawer_images, [], \"f\");\n  }\n  _createClass(ImageDrawer, [{\n    key: \"getSidesCount\",\n    value: function getSidesCount() {\n      return 12;\n    }\n  }, {\n    key: \"getImages\",\n    value: function getImages(container) {\n      var containerImages = __classPrivateFieldGet(this, _ImageDrawer_images, \"f\").find(function (t) {\n        return t.id === container.id;\n      });\n      if (!containerImages) {\n        __classPrivateFieldGet(this, _ImageDrawer_images, \"f\").push({\n          id: container.id,\n          images: []\n        });\n        return this.getImages(container);\n      } else {\n        return containerImages;\n      }\n    }\n  }, {\n    key: \"addImage\",\n    value: function addImage(container, image) {\n      var containerImages = this.getImages(container);\n      containerImages === null || containerImages === void 0 ? void 0 : containerImages.images.push(image);\n    }\n  }, {\n    key: \"init\",\n    value: function init(container) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _iterator, _step, manualParticle, emitterOptions, _iterator2, _step2, emitter, interactiveEmitters, _iterator3, _step3, _emitter;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.loadImagesFromParticlesOptions(container, container.actualOptions.particles);\n              case 2:\n                _context.next = 4;\n                return this.loadImagesFromParticlesOptions(container, container.actualOptions.interactivity.modes.trail.particles);\n              case 4:\n                _iterator = _createForOfIteratorHelper(container.actualOptions.manualParticles);\n                _context.prev = 5;\n                _iterator.s();\n              case 7:\n                if ((_step = _iterator.n()).done) {\n                  _context.next = 13;\n                  break;\n                }\n                manualParticle = _step.value;\n                _context.next = 11;\n                return this.loadImagesFromParticlesOptions(container, manualParticle.options);\n              case 11:\n                _context.next = 7;\n                break;\n              case 13:\n                _context.next = 18;\n                break;\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context[\"catch\"](5);\n                _iterator.e(_context.t0);\n              case 18:\n                _context.prev = 18;\n                _iterator.f();\n                return _context.finish(18);\n              case 21:\n                emitterOptions = container.actualOptions;\n                if (!emitterOptions.emitters) {\n                  _context.next = 45;\n                  break;\n                }\n                if (!(emitterOptions.emitters instanceof Array)) {\n                  _context.next = 43;\n                  break;\n                }\n                _iterator2 = _createForOfIteratorHelper(emitterOptions.emitters);\n                _context.prev = 25;\n                _iterator2.s();\n              case 27:\n                if ((_step2 = _iterator2.n()).done) {\n                  _context.next = 33;\n                  break;\n                }\n                emitter = _step2.value;\n                _context.next = 31;\n                return this.loadImagesFromParticlesOptions(container, emitter.particles);\n              case 31:\n                _context.next = 27;\n                break;\n              case 33:\n                _context.next = 38;\n                break;\n              case 35:\n                _context.prev = 35;\n                _context.t1 = _context[\"catch\"](25);\n                _iterator2.e(_context.t1);\n              case 38:\n                _context.prev = 38;\n                _iterator2.f();\n                return _context.finish(38);\n              case 41:\n                _context.next = 45;\n                break;\n              case 43:\n                _context.next = 45;\n                return this.loadImagesFromParticlesOptions(container, emitterOptions.emitters.particles);\n              case 45:\n                interactiveEmitters = emitterOptions.interactivity.modes.emitters;\n                if (!interactiveEmitters) {\n                  _context.next = 69;\n                  break;\n                }\n                if (!(interactiveEmitters instanceof Array)) {\n                  _context.next = 67;\n                  break;\n                }\n                _iterator3 = _createForOfIteratorHelper(interactiveEmitters);\n                _context.prev = 49;\n                _iterator3.s();\n              case 51:\n                if ((_step3 = _iterator3.n()).done) {\n                  _context.next = 57;\n                  break;\n                }\n                _emitter = _step3.value;\n                _context.next = 55;\n                return this.loadImagesFromParticlesOptions(container, _emitter.particles);\n              case 55:\n                _context.next = 51;\n                break;\n              case 57:\n                _context.next = 62;\n                break;\n              case 59:\n                _context.prev = 59;\n                _context.t2 = _context[\"catch\"](49);\n                _iterator3.e(_context.t2);\n              case 62:\n                _context.prev = 62;\n                _iterator3.f();\n                return _context.finish(62);\n              case 65:\n                _context.next = 69;\n                break;\n              case 67:\n                _context.next = 69;\n                return this.loadImagesFromParticlesOptions(container, interactiveEmitters.particles);\n              case 69:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 15, 18, 21], [25, 35, 38, 41], [49, 59, 62, 65]]);\n      }));\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      __classPrivateFieldSet(this, _ImageDrawer_images, [], \"f\");\n    }\n  }, {\n    key: \"loadImagesFromParticlesOptions\",\n    value: function loadImagesFromParticlesOptions(container, options) {\n      var _a, _b, _c;\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var shapeOptions, idx, imageOptions, _iterator4, _step4, optionsImage, groupName, group;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                shapeOptions = options === null || options === void 0 ? void 0 : options.shape;\n                if (!(!(shapeOptions === null || shapeOptions === void 0 ? void 0 : shapeOptions.type) || !shapeOptions.options || !Utils_1.isInArray(Enums_1.ShapeType.image, shapeOptions.type) && !Utils_1.isInArray(Enums_1.ShapeType.images, shapeOptions.type))) {\n                  _context2.next = 3;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 3:\n                idx = __classPrivateFieldGet(this, _ImageDrawer_images, \"f\").findIndex(function (t) {\n                  return t.id === container.id;\n                });\n                if (idx >= 0) {\n                  __classPrivateFieldGet(this, _ImageDrawer_images, \"f\").splice(idx, 1);\n                }\n                imageOptions = (_a = shapeOptions.options[Enums_1.ShapeType.images]) !== null && _a !== void 0 ? _a : shapeOptions.options[Enums_1.ShapeType.image];\n                if (!(imageOptions instanceof Array)) {\n                  _context2.next = 26;\n                  break;\n                }\n                _iterator4 = _createForOfIteratorHelper(imageOptions);\n                _context2.prev = 8;\n                _iterator4.s();\n              case 10:\n                if ((_step4 = _iterator4.n()).done) {\n                  _context2.next = 16;\n                  break;\n                }\n                optionsImage = _step4.value;\n                _context2.next = 14;\n                return this.loadImageShape(container, optionsImage);\n              case 14:\n                _context2.next = 10;\n                break;\n              case 16:\n                _context2.next = 21;\n                break;\n              case 18:\n                _context2.prev = 18;\n                _context2.t0 = _context2[\"catch\"](8);\n                _iterator4.e(_context2.t0);\n              case 21:\n                _context2.prev = 21;\n                _iterator4.f();\n                return _context2.finish(21);\n              case 24:\n                _context2.next = 28;\n                break;\n              case 26:\n                _context2.next = 28;\n                return this.loadImageShape(container, imageOptions);\n              case 28:\n                if (!(options === null || options === void 0 ? void 0 : options.groups)) {\n                  _context2.next = 37;\n                  break;\n                }\n                _context2.t1 = _regeneratorRuntime().keys(options.groups);\n              case 30:\n                if ((_context2.t2 = _context2.t1()).done) {\n                  _context2.next = 37;\n                  break;\n                }\n                groupName = _context2.t2.value;\n                group = options.groups[groupName];\n                _context2.next = 35;\n                return this.loadImagesFromParticlesOptions(container, group);\n              case 35:\n                _context2.next = 30;\n                break;\n              case 37:\n                if (!((_c = (_b = options === null || options === void 0 ? void 0 : options.destroy) === null || _b === void 0 ? void 0 : _b.split) === null || _c === void 0 ? void 0 : _c.particles)) {\n                  _context2.next = 40;\n                  break;\n                }\n                _context2.next = 40;\n                return this.loadImagesFromParticlesOptions(container, options === null || options === void 0 ? void 0 : options.destroy.split.particles);\n              case 40:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[8, 18, 21, 24]]);\n      }));\n    }\n  }, {\n    key: \"loadImageShape\",\n    value: function loadImageShape(container, imageShape) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var imageFunc, image;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                imageFunc = imageShape.replaceColor ? Utils_2.downloadSvgImage : Utils_2.loadImage;\n                _context3.next = 4;\n                return imageFunc(imageShape.src);\n              case 4:\n                image = _context3.sent;\n                if (image) {\n                  this.addImage(container, image);\n                }\n                _context3.next = 11;\n                break;\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3[\"catch\"](0);\n                console.warn(\"tsParticles error - \".concat(imageShape.src, \" not found\"));\n              case 11:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 8]]);\n      }));\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(context, particle, radius, opacity) {\n      var _a, _b;\n      if (!context) {\n        return;\n      }\n      var image = particle.image;\n      var element = (_a = image === null || image === void 0 ? void 0 : image.data) === null || _a === void 0 ? void 0 : _a.element;\n      if (!element) {\n        return;\n      }\n      var ratio = (_b = image === null || image === void 0 ? void 0 : image.ratio) !== null && _b !== void 0 ? _b : 1;\n      var pos = {\n        x: -radius,\n        y: -radius\n      };\n      if (!(image === null || image === void 0 ? void 0 : image.data.svgData) || !(image === null || image === void 0 ? void 0 : image.replaceColor)) {\n        context.globalAlpha = opacity;\n      }\n      context.drawImage(element, pos.x, pos.y, radius * 2, radius * 2 / ratio);\n      if (!(image === null || image === void 0 ? void 0 : image.data.svgData) || !(image === null || image === void 0 ? void 0 : image.replaceColor)) {\n        context.globalAlpha = 1;\n      }\n    }\n  }, {\n    key: \"loadShape\",\n    value: function loadShape(particle) {\n      var _a, _b, _c, _d, _e;\n      if (particle.shape !== \"image\" && particle.shape !== \"images\") {\n        return;\n      }\n      var container = particle.container;\n      var images = this.getImages(container).images;\n      var imageData = particle.shapeData;\n      var image = (_a = images.find(function (t) {\n        return t.source === imageData.src;\n      })) !== null && _a !== void 0 ? _a : images[0];\n      var color = particle.getFillColor();\n      var imageRes;\n      if (!image) {\n        return;\n      }\n      if (image.svgData !== undefined && imageData.replaceColor && color) {\n        var svgColoredData = Utils_2.replaceColorSvg(image, color, particle.opacity.value);\n        var svg = new Blob([svgColoredData], {\n          type: \"image/svg+xml\"\n        });\n        var domUrl = URL || window.URL || window.webkitURL || window;\n        var url = domUrl.createObjectURL(svg);\n        var img = new Image();\n        imageRes = {\n          data: Object.assign(Object.assign({}, image), {\n            svgData: svgColoredData\n          }),\n          ratio: imageData.width / imageData.height,\n          replaceColor: (_b = imageData.replaceColor) !== null && _b !== void 0 ? _b : imageData.replace_color,\n          source: imageData.src\n        };\n        img.addEventListener(\"load\", function () {\n          var pImage = particle.image;\n          if (pImage) {\n            pImage.loaded = true;\n            image.element = img;\n          }\n          domUrl.revokeObjectURL(url);\n        });\n        img.addEventListener(\"error\", function () {\n          domUrl.revokeObjectURL(url);\n          Utils_2.loadImage(imageData.src).then(function (img2) {\n            var pImage = particle.image;\n            if (pImage) {\n              image.element = img2 === null || img2 === void 0 ? void 0 : img2.element;\n              pImage.loaded = true;\n            }\n          });\n        });\n        img.src = url;\n      } else {\n        imageRes = {\n          data: image,\n          loaded: true,\n          ratio: imageData.width / imageData.height,\n          replaceColor: (_c = imageData.replaceColor) !== null && _c !== void 0 ? _c : imageData.replace_color,\n          source: imageData.src\n        };\n      }\n      if (!imageRes.ratio) {\n        imageRes.ratio = 1;\n      }\n      var fill = (_d = imageData.fill) !== null && _d !== void 0 ? _d : particle.fill;\n      var close = (_e = imageData.close) !== null && _e !== void 0 ? _e : particle.close;\n      var imageShape = {\n        image: imageRes,\n        fill: fill,\n        close: close\n      };\n      particle.image = imageShape.image;\n      particle.fill = imageShape.fill;\n      particle.close = imageShape.close;\n    }\n  }]);\n  return ImageDrawer;\n}();\nexports.ImageDrawer = ImageDrawer;\n_ImageDrawer_images = new WeakMap();","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__classPrivateFieldSet","receiver","state","kind","f","TypeError","has","call","set","__classPrivateFieldGet","get","_ImageDrawer_images","Object","defineProperty","exports","ImageDrawer","Utils_1","require","Enums_1","Utils_2","container","containerImages","find","t","id","push","images","getImages","image","loadImagesFromParticlesOptions","actualOptions","particles","interactivity","modes","trail","manualParticles","manualParticle","options","emitterOptions","emitters","Array","emitter","interactiveEmitters","_a","_b","_c","shapeOptions","shape","type","isInArray","ShapeType","idx","findIndex","splice","imageOptions","optionsImage","loadImageShape","groups","groupName","group","destroy","split","imageShape","imageFunc","replaceColor","downloadSvgImage","loadImage","src","addImage","console","warn","context","particle","radius","opacity","element","data","ratio","pos","x","y","svgData","globalAlpha","drawImage","_d","_e","imageData","shapeData","source","color","getFillColor","imageRes","undefined","svgColoredData","replaceColorSvg","svg","Blob","domUrl","URL","window","webkitURL","url","createObjectURL","img","Image","assign","width","height","replace_color","addEventListener","pImage","loaded","revokeObjectURL","img2","fill","close","WeakMap"],"sources":["C:/Users/Tyler Giles/Documents/GitHub/Personal_Site/node_modules/tsparticles/Shapes/Image/ImageDrawer.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ImageDrawer_images;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImageDrawer = void 0;\nconst Utils_1 = require(\"../../Utils\");\nconst Enums_1 = require(\"../../Enums\");\nconst Utils_2 = require(\"./Utils\");\nclass ImageDrawer {\n    constructor() {\n        _ImageDrawer_images.set(this, void 0);\n        __classPrivateFieldSet(this, _ImageDrawer_images, [], \"f\");\n    }\n    getSidesCount() {\n        return 12;\n    }\n    getImages(container) {\n        const containerImages = __classPrivateFieldGet(this, _ImageDrawer_images, \"f\").find((t) => t.id === container.id);\n        if (!containerImages) {\n            __classPrivateFieldGet(this, _ImageDrawer_images, \"f\").push({\n                id: container.id,\n                images: [],\n            });\n            return this.getImages(container);\n        }\n        else {\n            return containerImages;\n        }\n    }\n    addImage(container, image) {\n        const containerImages = this.getImages(container);\n        containerImages === null || containerImages === void 0 ? void 0 : containerImages.images.push(image);\n    }\n    init(container) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.loadImagesFromParticlesOptions(container, container.actualOptions.particles);\n            yield this.loadImagesFromParticlesOptions(container, container.actualOptions.interactivity.modes.trail.particles);\n            for (const manualParticle of container.actualOptions.manualParticles) {\n                yield this.loadImagesFromParticlesOptions(container, manualParticle.options);\n            }\n            const emitterOptions = container.actualOptions;\n            if (emitterOptions.emitters) {\n                if (emitterOptions.emitters instanceof Array) {\n                    for (const emitter of emitterOptions.emitters) {\n                        yield this.loadImagesFromParticlesOptions(container, emitter.particles);\n                    }\n                }\n                else {\n                    yield this.loadImagesFromParticlesOptions(container, emitterOptions.emitters.particles);\n                }\n            }\n            const interactiveEmitters = emitterOptions.interactivity.modes.emitters;\n            if (interactiveEmitters) {\n                if (interactiveEmitters instanceof Array) {\n                    for (const emitter of interactiveEmitters) {\n                        yield this.loadImagesFromParticlesOptions(container, emitter.particles);\n                    }\n                }\n                else {\n                    yield this.loadImagesFromParticlesOptions(container, interactiveEmitters.particles);\n                }\n            }\n        });\n    }\n    destroy() {\n        __classPrivateFieldSet(this, _ImageDrawer_images, [], \"f\");\n    }\n    loadImagesFromParticlesOptions(container, options) {\n        var _a, _b, _c;\n        return __awaiter(this, void 0, void 0, function* () {\n            const shapeOptions = options === null || options === void 0 ? void 0 : options.shape;\n            if (!(shapeOptions === null || shapeOptions === void 0 ? void 0 : shapeOptions.type) ||\n                !shapeOptions.options ||\n                (!Utils_1.isInArray(Enums_1.ShapeType.image, shapeOptions.type) && !Utils_1.isInArray(Enums_1.ShapeType.images, shapeOptions.type))) {\n                return;\n            }\n            const idx = __classPrivateFieldGet(this, _ImageDrawer_images, \"f\").findIndex((t) => t.id === container.id);\n            if (idx >= 0) {\n                __classPrivateFieldGet(this, _ImageDrawer_images, \"f\").splice(idx, 1);\n            }\n            const imageOptions = (_a = shapeOptions.options[Enums_1.ShapeType.images]) !== null && _a !== void 0 ? _a : shapeOptions.options[Enums_1.ShapeType.image];\n            if (imageOptions instanceof Array) {\n                for (const optionsImage of imageOptions) {\n                    yield this.loadImageShape(container, optionsImage);\n                }\n            }\n            else {\n                yield this.loadImageShape(container, imageOptions);\n            }\n            if (options === null || options === void 0 ? void 0 : options.groups) {\n                for (const groupName in options.groups) {\n                    const group = options.groups[groupName];\n                    yield this.loadImagesFromParticlesOptions(container, group);\n                }\n            }\n            if ((_c = (_b = options === null || options === void 0 ? void 0 : options.destroy) === null || _b === void 0 ? void 0 : _b.split) === null || _c === void 0 ? void 0 : _c.particles) {\n                yield this.loadImagesFromParticlesOptions(container, options === null || options === void 0 ? void 0 : options.destroy.split.particles);\n            }\n        });\n    }\n    loadImageShape(container, imageShape) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const imageFunc = imageShape.replaceColor ? Utils_2.downloadSvgImage : Utils_2.loadImage;\n                const image = yield imageFunc(imageShape.src);\n                if (image) {\n                    this.addImage(container, image);\n                }\n            }\n            catch (_a) {\n                console.warn(`tsParticles error - ${imageShape.src} not found`);\n            }\n        });\n    }\n    draw(context, particle, radius, opacity) {\n        var _a, _b;\n        if (!context) {\n            return;\n        }\n        const image = particle.image;\n        const element = (_a = image === null || image === void 0 ? void 0 : image.data) === null || _a === void 0 ? void 0 : _a.element;\n        if (!element) {\n            return;\n        }\n        const ratio = (_b = image === null || image === void 0 ? void 0 : image.ratio) !== null && _b !== void 0 ? _b : 1;\n        const pos = {\n            x: -radius,\n            y: -radius,\n        };\n        if (!(image === null || image === void 0 ? void 0 : image.data.svgData) || !(image === null || image === void 0 ? void 0 : image.replaceColor)) {\n            context.globalAlpha = opacity;\n        }\n        context.drawImage(element, pos.x, pos.y, radius * 2, (radius * 2) / ratio);\n        if (!(image === null || image === void 0 ? void 0 : image.data.svgData) || !(image === null || image === void 0 ? void 0 : image.replaceColor)) {\n            context.globalAlpha = 1;\n        }\n    }\n    loadShape(particle) {\n        var _a, _b, _c, _d, _e;\n        if (particle.shape !== \"image\" && particle.shape !== \"images\") {\n            return;\n        }\n        const container = particle.container;\n        const images = this.getImages(container).images;\n        const imageData = particle.shapeData;\n        const image = (_a = images.find((t) => t.source === imageData.src)) !== null && _a !== void 0 ? _a : images[0];\n        const color = particle.getFillColor();\n        let imageRes;\n        if (!image) {\n            return;\n        }\n        if (image.svgData !== undefined && imageData.replaceColor && color) {\n            const svgColoredData = Utils_2.replaceColorSvg(image, color, particle.opacity.value);\n            const svg = new Blob([svgColoredData], { type: \"image/svg+xml\" });\n            const domUrl = URL || window.URL || window.webkitURL || window;\n            const url = domUrl.createObjectURL(svg);\n            const img = new Image();\n            imageRes = {\n                data: Object.assign(Object.assign({}, image), { svgData: svgColoredData }),\n                ratio: imageData.width / imageData.height,\n                replaceColor: (_b = imageData.replaceColor) !== null && _b !== void 0 ? _b : imageData.replace_color,\n                source: imageData.src,\n            };\n            img.addEventListener(\"load\", () => {\n                const pImage = particle.image;\n                if (pImage) {\n                    pImage.loaded = true;\n                    image.element = img;\n                }\n                domUrl.revokeObjectURL(url);\n            });\n            img.addEventListener(\"error\", () => {\n                domUrl.revokeObjectURL(url);\n                Utils_2.loadImage(imageData.src).then((img2) => {\n                    const pImage = particle.image;\n                    if (pImage) {\n                        image.element = img2 === null || img2 === void 0 ? void 0 : img2.element;\n                        pImage.loaded = true;\n                    }\n                });\n            });\n            img.src = url;\n        }\n        else {\n            imageRes = {\n                data: image,\n                loaded: true,\n                ratio: imageData.width / imageData.height,\n                replaceColor: (_c = imageData.replaceColor) !== null && _c !== void 0 ? _c : imageData.replace_color,\n                source: imageData.src,\n            };\n        }\n        if (!imageRes.ratio) {\n            imageRes.ratio = 1;\n        }\n        const fill = (_d = imageData.fill) !== null && _d !== void 0 ? _d : particle.fill;\n        const close = (_e = imageData.close) !== null && _e !== void 0 ? _e : particle.close;\n        const imageShape = {\n            image: imageRes,\n            fill,\n            close,\n        };\n        particle.image = imageShape.image;\n        particle.fill = imageShape.fill;\n        particle.close = imageShape.close;\n    }\n}\nexports.ImageDrawer = ImageDrawer;\n_ImageDrawer_images = new WeakMap();\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}